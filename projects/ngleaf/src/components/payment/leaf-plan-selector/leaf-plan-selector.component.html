<div class="plan-selector">
  <mat-progress-bar mode="indeterminate" *ngIf="fetchPlansPending$ | async"></mat-progress-bar>
  <div class="plans-list" *ngIf="!(fetchPlansPending$ | async)">
    <div *ngFor="let plan of (availablePlans$ | async)" class="plan-wrapper">
      <leaf-plan-viewer
        [plan]="plan"
        [selected]="selectedPlan === plan"
        [selectable]="true"
        (onSelect)="selectPlan(plan)"></leaf-plan-viewer>
    </div>
  </div>
  <div class="actions" *ngIf="showSubmitButton">
    <button
      class="submit-button"
      mat-raised-button
      color="primary"
      (click)="submit()"
      [disabled]="!selectedPlan"
    >
     Confirm this plan
    </button>
  </div>
</div>
