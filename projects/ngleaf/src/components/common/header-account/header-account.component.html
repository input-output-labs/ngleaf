<mat-icon *ngIf="(currentAccount$ | async)" class="icon" medium matTooltip="Mon compte"
          [mdePopoverTriggerFor]="accountPopover">account_circle
</mat-icon>

<leaf-login *ngIf="!(currentAccount$ | async)"></leaf-login>
<button *ngIf="!(currentAccount$ | async)" mat-stroked-button [mdePopoverTriggerFor]="registerPopover" color="primary">
  REGISTER
</button>

<mde-popover #accountPopover="mdePopover"
             [mdePopoverPositionY]="'below'"
             [mdePopoverPositionX]="'after'"
             [mdePopoverOverlapTrigger]="false"
             [mdeFocusTrapEnabled]="false"
             [mdePopoverTriggerOn]="'click'"
             [mdePopoverArrowColor]="'rgba(0, 0, 0, 0.9)'">
  <leaf-account-popover-content [username]="(currentAccount$ | async)?.username"
                               [avatarUrl]="(currentAccount$ | async)?.avatarUrl"></leaf-account-popover-content>
</mde-popover>
<mde-popover #registerPopover="mdePopover"
             [mdePopoverPositionY]="'below'"
             [mdePopoverPositionX]="'after'"
             [mdePopoverOverlapTrigger]="false"
             [mdeFocusTrapEnabled]="false"
             [mdePopoverTriggerOn]="'click'"
             [mdePopoverArrowColor]="'rgba(0, 0, 0, 0.9)'"
             [mdePopoverCloseOnClick]="false">
  <leaf-register></leaf-register>
</mde-popover>


